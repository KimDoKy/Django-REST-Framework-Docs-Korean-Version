<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Parsers - Django Rest Framework Docs Korean version</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Parsers";
    var mkdocs_page_input_path = "Parsers.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Django Rest Framework Docs Korean version</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Requests/">Requests</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Responses/">Responses</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Views/">Views</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Generic_views/">Generic views</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ViewSets/">Viewsets</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Routers/">Routers</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Parsers</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#django-rest-framework-parsers">Django REST Framework -  Parsers</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#parsers">Parsers</a></li>
        
            <li><a class="toctree-l3" href="#api-reference">API Reference</a></li>
        
            <li><a class="toctree-l3" href="#custom-parsers">Custom parsers</a></li>
        
            <li><a class="toctree-l3" href="#third-party-packages">Third party packages</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Renderers/">Renderers</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Serializers/">Serializers</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Serializer_fields/">Serializer fields</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Serializer_relations/">Serializer relations</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Validators/">Validators</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Authentication/">Authentication</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Permissions/">Permissions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Throttling/">Throttling</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Filtering/">Filtering</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Pagination/">Pagination</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Versioning/">Versioning</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Content_negotiation/">Content negotiation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Metadata/">Metadata</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Schemas/">Schemas</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Format_suffixes/">Format suffixes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Returning_URLs/">Returning URLs</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Exceptions/">Exceptions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Status_Codes/">Status codes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Testing/">Testing</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Settings/">Settings</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Django Rest Framework Docs Korean version</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Parsers</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="django-rest-framework-parsers">Django REST Framework -  Parsers</h1>
<hr />
<p><em>"Machine interacting web services tend to use more structured formats for sending data than form-encoded, since they're sending more complex data than simple forms"</em>  </p>
<p><em>"웹 서비스를 상호 작용하는 기계는 단순한 형식보다 복잡한 데이터를 전송하기 때문에 양식으로 인코딩 된 것보다 데이터 전송에 더 많은 구조화 된 형식을 사용하는 경향이 있습니다."</em>  </p>
<p><em>— Malcom Tredinnick, Django developers group</em></p>
<hr />
<h2 id="parsers">Parsers</h2>
<p>REST 프레임워크에는 <code>Parser</code>클래스가 내장되어 있어 다양한 미디어 타입으로 requests를 수락할 수 있습니다. 또한 <code>custom parser</code>를 정의 할 수 있어서 API에서 허용하는 미디어 타입을 유연하게 디자인 할 수 있습니다.</p>
<h3 id="how-the-parser-is-determined">How the parser is determined</h3>
<p>뷰에 대한 유효한 parser set은 항상 클래스 목록으로 정의됩니다. <code>request.data</code>에 액서스하면 REST 프레임워크는 들어오는 request의 <code>Content-Type</code> 헤더를 검사하고 request 내용을 parse하는데 사용할 <code>parser</code>를 결정합니다.</p>
<hr />
<p><strong>Note</strong>: 클라이언트 응용 프로그램을 개발할 때는 항상 HTTP request로 데이터를 보낼때 <code>Content-Type</code>헤더를 설정해야 합니다.<br />
콘텐트 타입을 설정하지 않으면 대부분의 클라이언트는 <code>'application/x-www-form-urlencoded'</code>를 기본값으로 사용합니다. 이는 원하지 않을 수 있습니다.<br />
예를 들어, <code>.ajax()</code>메서드로 jQuery를 사용하여 <code>json</code>으로 인코딩 된 데이터를 보내는 경우, <code>contentType: 'application/json'</code>설정을 포함해야 합니다.</p>
<hr />
<h3 id="setting-the-parsers">Setting the parsers</h3>
<p><code>parser</code>의 기본 set은 <code>DEFAULT_PARSER_CLASSES</code>  설정을 사용하여 전역으로 설정할 수 있습니다. 예를 들어, 다음 설정은 기본 JSON 이나 formdata 대신 JSON 컨텐트가 있는 requests만 허용합니다.</p>
<pre><code class="python">REST_FRAMEWORK = {
    'DEFAULT_PARSER_CLASSES': (
        'rest_framework.parsers.JSONParser',
    )
}
</code></pre>

<p><code>APIView</code>클래스의 기본 views를 사용하여 개별 view나 viewset에 사용되는 <code>parser</code>를 설정할 수도 있습니다.</p>
<pre><code class="python">from rest_framework.parsers import JSONParser
from rest_framework.response import Response
from rest_framework.views import APIView

class ExampleView(APIView):
    &quot;&quot;&quot;
    A view that can accept POST requests with JSON content.
    &quot;&quot;&quot;
    parser_classes = (JSONParser,)

    def post(self, request, format=None):
        return Response({'received data': request.data})
</code></pre>

<p>또는 FBV와 함께 <code>@api_view</code>데코레이터를 사용하는 경우.</p>
<pre><code class="python">from rest_framework.decorators import api_view
from rest_framework.decorators import parser_classes

@api_view(['POST'])
@parser_classes((JSONParser,))
def example_view(request, format=None):
    &quot;&quot;&quot;
    A view that can accept POST requests with JSON content.
    &quot;&quot;&quot;
    return Response({'received data': request.data})
</code></pre>

<hr />
<h2 id="api-reference">API Reference</h2>
<h3 id="jsonparser">JSONParser</h3>
<p><code>JSON</code> request content를 파싱합니다.<br />
<strong>.media_type</strong>: <code>application/json</code></p>
<h3 id="formparser">FormParser</h3>
<p>HTMl form content를 파싱합니다. <code>request.data</code>는 데이터의 <code>QueryDict</code>로 채워집니다.<br />
일반적으로 HTML form data를 완벽하게 지원하기 위해 <code>FormParser</code>와 <code>MultiPartParser</code>를 함께 사용하려고 합니다.<br />
<strong>.media_type</strong>: <code>application/x-www-form-urlencoded</code></p>
<h3 id="multipartparser">MultiPartParser</h3>
<p>파일 업로드를 지원하는 <code>Multi form content</code>를 파싱합니다. 두 <code>request.data</code> 모두 <code>QueryDict</code>로 채워집니다.<br />
일반적으로 HTML form data를 완벽하게 지원하기 위해 <code>FormParser</code>와 <code>MultiPartParser</code>를 함께 사용하려고 합니다.<br />
<strong>.media_type</strong>: <code>multipart/form-data</code></p>
<h3 id="fileuploadparser">FileUploadParser</h3>
<p>가공되지 않은 file upload content를 파싱함니다. <code>request.data</code> 속성은 업로드 된 파일을 포함하는 단일 키<code>'file'</code>이 포함된 dict입니다.<br />
<code>FileUploadParser</code>와 함께 사용 된 view가 파일 이름 URL 키워드 인수로 호출되면 해당 인수가  filename 으로 사용됩니다.<br />
<code>filename</code> URL 키워드 인수없이 호출되면 클라이언트는 <code>Content-Disposition</code> HTTP 헤더에 filename을 설정해야 합니다. 예를 들면, <code>Content-disposition: attachment; filename=upload.jpg</code><br />
<strong>.media_type</strong>: <code>*/*</code></p>
<h6 id="notes">notes:</h6>
<ul>
<li><code>FileUploadParser</code>는 파일을 가공되지 않은 데이터 request으로 업로드 할 수 있는 기본 클라이언트에서 사용하기 위한 것입니다. 웹 기반 업로드 또는 멀티 파트 업로드가 지원되는 기본 클라이언트의 경우 <code>MultiPartParser</code> 파서를 대신 사용해야합니다.</li>
<li>이 파서의 <code>media_type</code>은 모든 콘텐트 타입과 일치하므로 <code>FileuploadParser</code>는 일반적으로 API view에 설정된 유일한 <code>parser</code> 이어야 합니다.</li>
<li><code>FileUploadParser</code>는 Django의 표준 <code>FILE_UPLOAD_HANDLERS</code> 설정과 <code>request.upload_handlers</code> 속성을 고려합니다. 자세한 내용은 <a href="https://docs.djangoproject.com/en/1.10/topics/http/file-uploads/#upload-handlers">Django 문서</a>를 참조하세요.</li>
</ul>
<h6 id="basic-usage-example">Basic usage example:</h6>
<pre><code class="python"># views.py
class FileUploadView(views.APIView):
    parser_classes = (FileUploadParser,)

    def put(self, request, filename, format=None):
        file_obj = request.data['file']
        # ...
        # do some stuff with uploaded file
        # ...
        return Response(status=204)

# urls.py
urlpatterns = [
    # ...
    url(r'^upload/(?P&lt;filename&gt;[^/]+)$', FileUploadView.as_view())
]
</code></pre>

<hr />
<h2 id="custom-parsers">Custom parsers</h2>
<p><code>custom parser</code>를 구현하려면 <code>BaseParser</code>를 오버라이드하고 <code>.media_type</code>속성을 설정하고 <code>.parse(self, stream, media_type, parser_context)</code>메소드를 구현해야 합니다.<br />
메서드는 <code>request.data</code>속성을 채우는데 사용할 데이터를 반환해야합니다.<br />
<code>.parse()</code>에 전달된 인수는 다음과 같습니다.   </p>
<h3 id="stream">stream</h3>
<p>request의 본문을 나타내는 스트림과 같은 객체입니다.</p>
<h3 id="media_type">media_type</h3>
<p>선택사항. 제공되는 경우 들어오는 request content의 미디어 타입입니다.<br />
request의 <code>Content-Type:</code> 헤더에 따라 렌더러의 <code>media_type</code>속성보다 더 구체적일 수 있으며, 미디어 타입 parameter가 포함 될 수 있습니다. 예: <code>"text/plain; charset=utf-8"</code></p>
<h3 id="parser_context">parser_context</h3>
<p>선택사항. 이 인수가 제공되면 request content을 파싱하는데 필요할 수 있는 추가 context를 포함하는 dict가 됩니다.<br />
기본적으로 <code>view</code>, <code>request</code>, <code>args</code>, <code>kwargs</code> 키들이 포함됩니다.</p>
<h3 id="example">Example</h3>
<p>다음은 request content를 나타내는 문자열로 <code>request.data</code>속성을 채우는 일반 텍스트 파서의 예입니다.</p>
<pre><code class="python">class PlainTextParser(BaseParser):
    &quot;&quot;&quot;
    Plain text parser.
    &quot;&quot;&quot;
    media_type = 'text/plain'

    def parse(self, stream, media_type=None, parser_context=None):
        &quot;&quot;&quot;
        Simply return a string representing the body of the request.
        &quot;&quot;&quot;
        return stream.read()
</code></pre>

<hr />
<h2 id="third-party-packages">Third party packages</h2>
<p>다음의 타사 패키지도 제공됩니다.</p>
<h3 id="yaml">YAML</h3>
<p><a href="http://jpadilla.github.io/django-rest-framework-yaml/">REST 프레임 워크 YAML</a>은 <a href="http://www.yaml.org/">YAML</a> 파싱 및 렌더링 지원을 제공합니다. 이전에 REST 프레임워크 패키지에 직접 포함되어 있었으며 이제는 타사 패키지로 대신 지원됩니다.</p>
<h6 id="_1">설치 및 구성</h6>
<p>pip를 사용하여 설치합니다.</p>
<pre><code>$ pip install djangorestframework-yaml
</code></pre>

<p>REST 프레임워크 설정을 수정하세요.</p>
<pre><code class="python">REST_FRAMEWORK = {
    'DEFAULT_PARSER_CLASSES': (
        'rest_framework_yaml.parsers.YAMLParser',
    ),
    'DEFAULT_RENDERER_CLASSES': (
        'rest_framework_yaml.renderers.YAMLRenderer',
    ),
}
</code></pre>

<h3 id="xml">XML</h3>
<p><a href="http://jpadilla.github.io/django-rest-framework-xml/">REST 프레임워크 XML</a>은 간단한 비공식 XML 형식을 제공합니다. 이전에 REST 프레임 워크 패키지에 직접 포함되어 있었으며 이제는 타사 패키지로 대신 지원됩니다.</p>
<h6 id="_2">설치 및 구성</h6>
<p>pip를 사용하여 설치합니다.</p>
<pre><code>$ pip install djangorestframework-xml
</code></pre>

<p>REST 프레임워크 설정을 수정하세요.</p>
<pre><code class="python">REST_FRAMEWORK = {
    'DEFAULT_PARSER_CLASSES': (
        'rest_framework_xml.parsers.XMLParser',
    ),
    'DEFAULT_RENDERER_CLASSES': (
        'rest_framework_xml.renderers.XMLRenderer',
    ),
}
</code></pre>

<h3 id="messagepack">MessagePack</h3>
<p><a href="https://github.com/juanriaza/django-rest-framework-msgpack">MessagePack</a>은 빠르고 효율적인 바이너리 serializer 형식입니다. <a href="https://github.com/juanriaza">Juan Riaza</a>는 MessagePack 렌더러와 REST 프레임 워크에 대한 파서 지원을 제공하는 <a href="https://github.com/juanriaza/django-rest-framework-msgpack">djangorestframework-msgpack 패키지</a>를 유지 관리합니다.</p>
<h3 id="camelcase-json">CamelCase JSON</h3>
<p><a href="https://github.com/vbabiy/djangorestframework-camel-case">djangorestframework-camel-case</a>는 REST 프레임워크를 위한 <code>parser</code>와 camel-case JSON 렌더러를 제공합니다. 이를 통해 serializer는 파이썬 스타일의 underscored 필드 이름을 사용할 수 있지만, 자바 스크립트 스타일의 camel case field names으로 API에 표시됩니다. 그것은 <a href="https://github.com/vbabiy">Vitaly Babiy</a>에 의해 관리됩니다.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Renderers/" class="btn btn-neutral float-right" title="Renderers">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Routers/" class="btn btn-neutral" title="Routers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Routers/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Renderers/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
